/*
 * bmp280.h
 *
 *  Created on: 14. 11. 2020
 *      Author: Stancoj
 */

#ifndef BMP280_H_
#define BMP280_H_

#include "mcu.h"
#include <stdbool.h>

/* BMP sensor I2C address */
#define BMP280_I2C_ADDRESS				0xEEu
/* Revision registers */
#define BMP280_ID_REG_ADDR				0xD0u
#define BMP280_ID_REG_VALUE				0x58u
/* Data registers */
#define BMP280_TEMP_MSB_REG_ADDR		0xFAu
#define BMP280_PRESSURE_MSB_REG_ADDR	0xF7u
/* Control registers */
#define BMP280_CONFIG_REG_ADDR			0xF5u
#define BMP280_CTRL_MEAS_REG_ADDR		0xF4u
/* Status registers */
#define BMP280_STATUS_REG_ADDR			0xF3u
/* Reset registers */
#define BMP280_RESET_REG_ADDR			0xE0u
/* Calibration data */
#define BMP280_CALIBRATION_REG_ADDR		0x88u

/*-----------------------------------------------------------------------*/

#define BMP280_CTRL_MEAS_OSRS1			0x01
#define BMP280_CTRL_MEAS_OSRS2			0x02
#define BMP280_CTRL_MEAS_OSRS4			0x03
#define BMP280_CTRL_MEAS_OSRS8			0x04
#define BMP280_CTRL_MEAS_OSRS16			0x05


#define DATA_BUFFER_SIZE				10u

bool InitBMP280(void);
void ReadPreasure3B(void);
void ReadPreasure1B(void);

void ReadConfig(void);
void ReadCtrlMeas(void);

#endif /* BMP280_H_ */

